<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>מגדיר לחיות דמיוניות</title>

  <style>
    :root {
      --text: #1e293b;
      --muted: #64748b;
      --accent: #2563eb;
      --good: #10b981;
      --bad: #ef4444;
      --border: rgba(148,163,184,.25);
      --radius: 18px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #fef3c7 0%, #dbeafe 50%, #e0e7ff 100%);
      color: var(--text);
      min-height: 100vh;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(255,255,255,.9);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 14px;
    }

    h1 {
      margin: 0;
      font-size: 18px;
    }

    .sub {
      margin-top: 4px;
      font-size: 12px;
      color: var(--muted);
    }

    .card {
      background: rgba(255,255,255,.92);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 18px;
      margin-top: 14px;
      box-shadow: 0 8px 20px rgba(0,0,0,.08);
    }

    .imgContainer {
      position: relative;
      border-radius: 16px;
      overflow: hidden;
      border: 2px solid rgba(59,130,246,.25);
      background: rgba(255,255,255,.5);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      min-height: 240px;
      margin-bottom: 16px;
    }

    .creatureNumber {
      position: absolute;
      top: 12px;
      left: 12px;
      background: rgba(37,99,235,.9);
      color: white;
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: bold;
      direction: ltr;
      font-size: 14px;
      z-index: 5;
    }

    img {
      max-width: 100%;
      max-height: 50vh;
      border-radius: 12px;
      object-fit: contain;
      display: block;
    }

    .q {
      font-size: 18px;
      margin: 0 0 10px 0;
      text-align: center;
    }

    .hint {
      font-size: 13px;
      color: var(--muted);
      text-align: center;
      margin-bottom: 16px;
    }

    .actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 18px;
    }

    button {
      border: none;
      border-radius: 14px;
      padding: 12px 18px;
      font-size: 16px;
      cursor: pointer;
      width: 160px;
      touch-action: manipulation;
    }

    .yes {
      background: var(--good);
      color: white;
    }

    .no {
      background: var(--bad);
      color: white;
    }

    .nav {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .nav button {
      background: var(--accent);
      color: white;
      width: auto;
      min-width: 140px;
    }

    .resultBox {
      text-align: center;
      font-size: 22px;
      font-weight: bold;
      padding: 12px;
    }

    .ok { color: var(--good); }
    .wrong { color: var(--bad); }

    .credits {
      margin-top: 24px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
      text-align: center;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.6;
    }

    @media (max-width: 600px) {
      button {
        width: 100%;
        max-width: 320px;
      }
      .imgContainer {
        min-height: 200px;
      }
    }
  </style>
</head>

<body>

<header>
  <div class="wrap">
    <h1>מגדיר לחיות דמיוניות</h1>
    <div class="sub">בחרו יצור → ענו כן/לא לפי התכונות → קבלו את השם</div>
  </div>
</header>

<main class="wrap">
  <div class="card">

    <div class="imgContainer">
      <div class="creatureNumber" id="creatureNumber">001</div>
      <img id="creatureImg" alt="יצור דמיוני">
    </div>

    <div id="qaArea">
      <div class="q" id="questionText">בעל מקור ברור?</div>
      <div class="hint" id="questionHint">ענו לפי מה שרואים בתמונה למעלה</div>

      <div class="actions">
        <button class="yes" id="yesBtn">✓ כן</button>
        <button class="no" id="noBtn">✗ לא</button>
      </div>
    </div>

    <div id="resultArea" style="display:none;">
      <div class="resultBox" id="resultBox"></div>
    </div>

    <div class="nav">
      <button id="prevBtn">← ליצור הקודם</button>
      <button id="restartBtn">ניסיון חוזר</button>
      <button id="nextBtn">ליצור הבא →</button>
    </div>

    <div class="credits">
      עריכה: מילכה ברקו גרש<br>
      מקור: לא ידוע
    </div>

  </div>
</main>

<script>
  // ============================
  // 1) תמונות (מקומיות)
  // ============================
  const IMAGES = [
    "1 חשוף גולגולת מעופף.png",
    "2 זחלן ימי.png",
    "3 לילית זריזה.png",
    "4 נברן מדומה.png",
    "5 גרפילד צפוני.png",
    "6 אגוזן מקופף.png",
    "7 רב רגל עגלגל.png",
    "8 פרציפלוך מצוי.png",
    "9 קוקרצ'ה מפוספסת.png",
    "10 שכלן מטפס.png",
    "11 קוקרצ'ה שחורה.png",
    "12 חרטטן גדול.png",
    "13 ביצנית שטוחת מקור.png",
    "14 גרגרן מצוי.png",
    "15 אוכל עוגיות מצוי.png",
    "16 שרפרף החולות.png",
    "17 בישן העצים.png",
    "18 נינג'ה צהובה.png",
    "19 שחיין העמקים.png",
    "20 ג'וק מלמקי.png",
    "21 קשקשן הנחלים.png",
    "22 תולען היערות.png",
    "23 אוכל עוגיות מפוספס.png",
    "24 מפצח חצילים צפוני.png",
    "25 פנטהפוד ארסי.png",
    "26. ביישן השדות.png",
    "27 טור מתכנס.png"
  ];

  const CORRECT_ANSWERS = {
    1: "חשוף גולגולת מעופף",
    2: "זחלן ימי",
    3: "לילית זריזה",
    4: "נברן מדומה",
    5: "גרפילד צפוני",
    6: "אגוזן מקופף",
    7: "רב רגל עגלגל",
    8: "פרציפלוך מצוי",
    9: "קוקרצ'ה מפוספסת",
    10: "שכלן מטפס",
    11: "קוקרצ'ה שחורה",
    12: "חרטטן גדול",
    13: "ביצנית שטוחת מקור",
    14: "גרגרן מצוי",
    15: "אוכל עוגיות מצוי",
    16: "שרפרף החולות",
    17: "בישן העצים",
    18: "נינג'ה צהובה",
    19: "שחיין העמקים",
    20: "ג'וק מלמקי",
    21: "קשקשן הנחלים",
    22: "תולען היערות",
    23: "אוכל עוגיות מפוספס",
    24: "מפצח חצילים צפוני",
    25: "פנטהפוד ארסי",
    26: "ביישן השדות",
    27: "טור מתכנס"
  };

  // ============================
  // 2) עץ החלטות
  // ============================
  const TREE = {
    1: { q: "בעל מקור ברור?", yes: 2, no: 7 },
    2: { q: "בעל כנפיים?", yes: 3, no: { leaf: "מפצח חצילים צפוני" } },
    3: { q: "בעל רגליים ארוכות במיוחד?", yes: 4, no: 5 },
    4: { q: "בעל מקור ארוך ושטוח?", yes: { leaf: "ביצנית שטוחת מקור" }, no: { leaf: "פרציפלוך מצוי" } },
    5: { q: "בעל מקור גדול ורחב?", yes: { leaf: "מפצח חצילים צפוני" }, no: 6 },
    6: { q: "בעל מקור ארוך וצר?", yes: { leaf: "שרפרף החולות" }, no: { leaf: "תולען היערות" } },

    7: { q: "יש לו יותר מ־6 רגליים?", yes: 8, no: 12 },
    8: { q: "בעל 12 רגליים?", yes: { leaf: "רב רגל עגלגל" }, no: 9 },
    9: { q: "בעל 8 רגליים?", yes: 10, no: { leaf: "זחלן ימי" } },
    10:{ q: "כל זוג רגליים יוצא מפרק נפרד?", yes: { leaf: "נינג'ה צהובה" }, no: 11 },
    11:{ q: "בעל גוף שחור?", yes: { leaf: "קוקרצ'ה שחורה" }, no: { leaf: "קוקרצ'ה מפוספסת" } },

    12:{ q: "בעל סנפירים?", yes: 13, no: 14 },
    13:{ q: "בעל בלורית שיער?", yes: { leaf: "קשקשן הנחלים" }, no: { leaf: "שחיין העמקים" } },

    14:{ q: "בעל קשקשים ברורים?", yes: 15, no: 17 },
    15:{ q: "בעל אף ארוך וצר?", yes: { leaf: "גרגרן מצוי" }, no: 16 },
    16:{ q: "בעל לשון מפוצלת?", yes: { leaf: "אוכל עוגיות מצוי" }, no: { leaf: "אוכל עוגיות מפוספס" } },

    17:{ q: "בעל זנב ארוך במיוחד?", yes: 18, no: 22 },
    18:{ q: "בעל שיער שחור וארוך יחסית?", yes: { leaf: "נברן מדומה" }, no: 19 },
    19:{ q: "בעל עיניים גדולות ומבוהלות?", yes: { leaf: "בישן העצים" }, no: 20 },
    20:{ q: "בעל אצבעות רגליים ארוכות?", yes: { leaf: "שכלן מטפס" }, no: 21 },
    21:{ q: "בעל זנב עבה ומפוספס?", yes: { leaf: "גרפילד צפוני" }, no: { leaf: "אגוזן מקופף" } },

    22:{ q: "בעל מחושים (אנטנות?)", yes: 23, no: 25 },
    23:{ q: "בעל כנפיים ברורות?", yes: { leaf: "לילית זריזה" }, no: 24 },
    24:{ q: "מחושים ארוכים מאורך הגוף?", yes: { leaf: "ג'וק מלמקי" }, no: { leaf: "פנטהפוד ארסי" } },

    25:{ q: "בעל נוצות?", yes: { leaf: "חשוף גולגולת מעופף" }, no: 26 },
    26:{ q: "בעל זנב ברור?", yes: 27, no: { leaf: "חרטטן גדול" } },
    27:{ q: "בעל קרניים?", yes: { leaf: "טור מתכנס" }, no: { leaf: "ביישן השדות" } }
  };

  // ============================
  // 3) מצב
  // ============================
  let currentCreature = 1;
  let nodeId = 1;

  // ============================
  // 4) אלמנטים
  // ============================
  const creatureNumber = document.getElementById("creatureNumber");
  const creatureImg = document.getElementById("creatureImg");

  const qaArea = document.getElementById("qaArea");
  const resultArea = document.getElementById("resultArea");

  const questionText = document.getElementById("questionText");
  const questionHint = document.getElementById("questionHint");
  const resultBox = document.getElementById("resultBox");

  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");

  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const restartBtn = document.getElementById("restartBtn");

  // ============================
  // 5) פונקציות
  // ============================
  function pad3(n) {
    return String(n).padStart(3, "0");
  }

  function setCreature(n) {
    currentCreature = Math.max(1, Math.min(IMAGES.length, n));

    creatureNumber.textContent = pad3(currentCreature);

    creatureImg.src = IMAGES[currentCreature - 1];
    creatureImg.alt = "יצור " + pad3(currentCreature);

    resetQuiz();
  }

  function resetQuiz() {
    nodeId = 1;
    qaArea.style.display = "block";
    resultArea.style.display = "none";
    renderNode();
  }

  function renderNode() {
    const node = TREE[nodeId];
    if (!node) {
      showResult("שגיאה בעץ ההחלטות");
      return;
    }
    questionText.textContent = node.q;
    questionHint.textContent = "ענו לפי מה שרואים בתמונה למעלה";
  }

  function showResult(name) {
    qaArea.style.display = "none";
    resultArea.style.display = "block";

    const correct = CORRECT_ANSWERS[currentCreature];
    const isCorrect = (name === correct);

    if (isCorrect) {
      resultBox.innerHTML = `<span class="ok">✅ כל הכבוד!</span><br>${name}`;
    } else {
      resultBox.innerHTML =
        `<span class="wrong">❌ טעיתם!</span><br>` +
        `קיבלתם: ${name}<br><br>` +
        `<span style="color:#64748b;font-size:18px;">התשובה הנכונה: ${correct}</span>`;
    }
  }

  function answer(isYes) {
    const node = TREE[nodeId];
    if (!node) return;

    const next = isYes ? node.yes : node.no;

    if (typeof next === "number") {
      nodeId = next;
      renderNode();
    } else if (next && next.leaf) {
      showResult(next.leaf);
    } else {
      showResult("שגיאה: יעד לא תקין");
    }
  }

  // ============================
  // 6) אירועים
  // ============================
  yesBtn.addEventListener("click", () => answer(true));
  noBtn.addEventListener("click", () => answer(false));

  prevBtn.addEventListener("click", () => setCreature(currentCreature - 1));
  nextBtn.addEventListener("click", () => setCreature(currentCreature + 1));
  restartBtn.addEventListener("click", () => resetQuiz());

  // ============================
  // 7) הפעלה
  // ============================
  setCreature(1);
</script>

</body>
</html>
